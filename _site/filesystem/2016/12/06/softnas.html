<!DOCTYPE html>
<html lang="en-us">
  
  <head>
  <meta charset="UTF-8">
  <title>分享技术 品味生活</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="theme-color" content="#157878">
  <link rel="stylesheet" href="/css/normalize.css">
  <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
  <link rel="stylesheet" href="/css/cayman.css">
</head>

  <body>
    <section class="page-header">
  <h1 class="project-name">分享技术 品味生活</h1>
  <h2 class="project-tagline">talk is cheap, show me the code</h2>
  <a href="https://github.com/qinglongyanyue/blog" class="btn">View on GitHub</a>
</section>

    <section class="main-content">
      
      <h2 id="背景">背景</h2>
<p>又到年底，得思考明年的关键工作，作为云上软件NAS的标杆产品，长期占据AWS market place的前几位，softNAS是值得重点关注的。</p>

<p>目前来看主要有2个大形态的产品，一个是直接在公有云或者私有云的VM中买softNAS软件，如下图；另外一种是卖给服务提供商，提供NAS服务。</p>

<p><img src="https://www.softnas.com/wp/wp-content/uploads/2016/02/20160105-Storage-Gateway-Diagram.png" alt="" /></p>

<h2 id="softnas软件">SoftNAS软件</h2>

<p>从文件系统设计上，他是针对VM的卷设计的FS
，特性上对标传统NAS，而且这个team之前就是做NAS设备的。</p>

<p>特性如下：</p>

<ul>
  <li>High-Availability (HA)</li>
  <li>Deduplication</li>
  <li>Replication</li>
  <li>Compression</li>
  <li>Thin and thick provisioning</li>
  <li>Multi-level caching</li>
  <li>Scheduled and manual snapshots</li>
  <li>Active Directory and LDAP integration</li>
  <li>Instant writeable SnapClones™</li>
</ul>

<p>还有几个亮点：</p>

<ul>
  <li>支持CDP：实时备份，对所有的修改都有记录，可以回退到任何时间点</li>
  <li>5个9可用性，出问题有补偿，<a href="https://www.softnas.com/wp/no-downtime/">赔偿策略</a></li>
  <li>运行过程中可以调整各类配置，包括更换高速SSD，更换便宜的HDD。（感觉技术上难度有点大啊）</li>
</ul>

<h2 id="softnas-for-cloud-provider">softNAS for cloud provider</h2>
<p>今年softNAS发布了新的产品形态，可以卖给provider来提供服务。</p>

<p>为啥它自己不提供服务呢？可能over在云上，多租户安全隔离不好做了。VPC方式需要从IAAS，特别是网络层面提供支撑；认证方式管理开销太大？</p>

<p>特点：</p>

<ul>
  <li>直接over在block或者S3存储之上</li>
  <li>按容量计费</li>
  <li>硬件中立</li>
  <li>平台中立：谁家的S3都行</li>
  <li>快速部署</li>
  <li>高性能：充分利用SSD cache和RAM cache</li>
  <li>每个租户使用专用的VM或者租户级分时复用，即SoftNAS可以绑定VM，或者不绑定VM（通过rest api或者cmdline来调度）。</li>
  <li>完备的NAS特性：去重压缩，快照克隆，瘦分配，支持超卖。</li>
</ul>

<p>一些企业级能力：</p>

<ul>
  <li>同时支持NFS CIFS iSCSI协议</li>
  <li>支持复制能力：跨AZ和跨地域</li>
  <li>CoW快照</li>
  <li>支持存储池：整合多个设备（类似ZFS的pool）</li>
  <li>支持存储卷：一个volume支持十亿级别的文件</li>
</ul>

<p>一些高可用能力：</p>

<ul>
  <li>Gateway cache for S3: S3的容量，本地的性能（应该是本地RAID）</li>
  <li>在线阵列重构：应该还是个本地RAID的概念</li>
  <li>异步复制</li>
</ul>

<p>简单平滑的用户体验：</p>

<ul>
  <li>包括UI，rest API，监控完备</li>
  <li>与SNMP，windows Active Directory</li>
</ul>

<p>敏捷的存储软件</p>

<ul>
  <li>私有云，混合云，公有云通吃</li>
  <li>rest api &amp; CLI</li>
  <li>各种网络都ok，1GE，10GE，FC，VLAN，etc。</li>
</ul>

<p>数据安全：</p>

<ul>
  <li>Active Directory</li>
  <li>大规模的NFS，支持数千client，十亿file</li>
</ul>

<p>性能 &amp; 容量：</p>

<ul>
  <li>去重 &amp; 压缩</li>
  <li>caching：内存&amp;SSD读cache，write ZIL log</li>
  <li>RAID</li>
</ul>

<p>开放架构：</p>

<ul>
  <li>ZFS，linux，centos</li>
</ul>


      <footer class="site-footer">
  <span class="site-footer-owner"><a href="http://localhost:4000">分享技术 品味生活</a> is maintained by <a href="l.ming@huawei.com">Author mingliang</a>.</span>
  <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a>.</span>
</footer>


    </section>

  </body>
</html>
