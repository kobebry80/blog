<!DOCTYPE html>
<html lang="en-us">
  
  <head>
  <meta charset="UTF-8">
  <title>分享技术 品味生活</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="theme-color" content="#157878">
  <link rel="stylesheet" href="/css/normalize.css">
  <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
  <link rel="stylesheet" href="/css/cayman.css">
</head>

  <body>
    <section class="page-header">
  <h1 class="project-name">分享技术 品味生活</h1>
  <h2 class="project-tagline">talk is cheap, show me the code</h2>
  <a href="https://github.com/qinglongyanyue/blog" class="btn">View on GitHub</a>
</section>

    <section class="main-content">
      
      <h3 id="阿里云vm">阿里云VM</h3>
<p>买了一个阿里云VM，入门级配置。</p>

<p>IOPS在200~500，没有说IO带宽的事情，待会测试下就知道啦。</p>

<h3 id="基本测试结果">基本测试结果</h3>

<p>测试工具：fio-2.1.3版本。
测试对象：阿里云VM中的，20GB数据盘（每月6元）</p>
<div class="highlighter-rouge"><pre class="highlight"><code>fio -filename=/dev/xvdb -direct=1 -iodepth 1 -thread -rw=read -ioengine=libaio -bs=4k -numjobs=1 -runtime=30 -group_reporting -name=mytest
</code></pre>
</div>

<ul>
  <li>最小延迟：4KB，单队列深度顺序读或写
    <ul>
      <li>读：999us</li>
      <li>写：1307us</li>
    </ul>
  </li>
  <li>最大带宽：1MB顺序读写，深度16
    <ul>
      <li>顺序读：81MB/s</li>
      <li>顺序写：47MB/s</li>
    </ul>
  </li>
  <li>最大IOPS：4KB随机读写
    <ul>
      <li>写：队列深度4时，达到上限1000（此时延迟4ms），比宣称值200~500高了不少，200~500可能是下限的范围</li>
      <li>读：队列深度1时，即可达到上限1000（此时延迟999us）</li>
    </ul>
  </li>
</ul>

<h3 id="基本性能测试分析">基本性能测试分析</h3>

<ul>
  <li>QoS上限有控制，1000为IOPS上限，读带宽可能是80MB/s，写带宽可能50MB/s，并不在规格描述</li>
  <li>硬盘的块存储QoS控制不简单，所以只写了一个大概的范围，而且跟容量似乎没关系，申请一个20GB的盘似乎赚到啦~</li>
</ul>


      <footer class="site-footer">
  <span class="site-footer-owner"><a href="http://localhost:4000">分享技术 品味生活</a> is maintained by <a href="l.ming@huawei.com">Author mingliang</a>.</span>
  <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a>.</span>
</footer>


    </section>

  </body>
</html>
