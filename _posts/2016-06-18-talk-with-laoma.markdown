---
layout: default
title:  "与容器专家老马交流纪要"
date:   2016-06-18
categories: container
---

## 提纲
1. 关于我们正在做的cloudfs
2. 关于容器存储领域的见解
3. 关于DevOps
4. 关于整个公司研发

### 关于CloudFS
CloudFS目前主要任务还是解决：

- 一些现有应用生态需要共享目录的场景，适用范围还是比较广泛的。很多应用（估计当前90%以上应用）都需要一个目录去存放信息，生态的变化需要漫长的时间（Posix file应该还会存活很长时间）。
 - 所以AWS上SoftNAS，也自己推出了EFS
- 目前我们CloudFS主打研发办公场景，核心是围绕DevOps场景。
 - 工具目录
 - 配置文件目录
 - CI的出包目录
 - 容器镜像存储
 - 开发主目录：git clone代码，编译&运行代码
 - git后端（Codeclub／iSource）

老马表示有公司20TB的git仓库，可以先在计算云上给我们试试，后续可以根据这个场景做定向优化。而且我们系统没有经受过真实场景，预计还会有很多坑。但是只要有人服务，他就放心。

他们也有物理机，我们需要支撑他们在物理机上也部署起来。

### 关于容器存储领域的见解
目前容器存储还主要在容器镜像存储和容器卷存储，卷存储应该比较简单；重点关注容器镜像存储。

正在考虑使用git的方式去玩容器镜像（docker push/pull/commit之类，其实跟git类似），但是发现git那套玩法去弄容器镜像很多地方不适合。

所以老马希望通过容器这个场景，从上往下重构整个存储协议栈，镜像存储是其中一个很好的契机。目前基于京东的[speedy项目](https://github.com/docker/distribution)(目前已经是docker社区官方项目了，佩服老马，田琪的运作能力)在玩，一个go语言写的分布式对象存储（据说核心代码一人2周搞定的）。

老马个人对容器领域非常熟悉，希望以此来改变存储设计的思路，让存储围绕应用去做事。最终目的是革命整个存储的stack。其实CoreOS的torus项目已经有点这个味道了，不是重点似乎是卷存储，而不是镜像存储。

### 关于DevOps
DevOps将会改变整个业界的软件生产方式，未来devops平台将会是一切软件的默认平台。解决好devops的问题，就是解决了好了整个IT的问题。

所以，搞定了DevOps中的存储，也就是解决了未来主流的存储的问题。遗留应用留给传统的盒子去搞吧，新兴应用必然会是cloud－native的，devops开发出来的。

### 关于整个公司研发

目前对于整个公司研发持悲观态度，中软的PaaS2.0，还是大量开源组件的拼凑，比较少自己的想法，核心竞争力有限。

对于如何解决DevOps的问题，还是需要认真的去理解应用，根据应用诉求变革先有协议栈。老马认为存储是个不错的机会点，他希望能够从应用出发，去指导存储的设计。

他准备玩rust语言去整新的存储项目，似乎rust在协程可靠性上比go要优秀。

